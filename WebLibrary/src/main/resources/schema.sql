drop table if exists Person;

create table if not exists Person (
  id int generated by default as identity primary key,
  full_name varchar not null unique,
  year int not null
);

insert into Person (full_name, year) values
('FIO', 1997),
('BAI', 1997),
('ARA', 1997);

drop table if exists Book;

create table if not exists Book (
  id int generated by default as identity primary key,
  name varchar not null,
  author varchar not null,
  year int not null,
  person_id int references person(id) on delete set null
);

insert into Book (name, author, year, person_id) values
('Bacho', 'KidsAuthor', 1970, 1),
('Test', 'GIA', 2014, 1),
('Test2', 'KidsAuthor', 1970, 1);
